---
layout: post
title: 確率・期待値まわりの事項集
date: 2023-03-28 00:17 +0900
category: cp
slug: cp-2
---

## クーポンコレクター問題

食玩問題，コンプガチャなどとも

### 問題
$N$種類のアイテムからランダムに1個選ぶ試行を繰り返す．各アイテムが選ばれる確率は$\frac{1}{N}$である．全てのアイテムを集めるまでの試行回数の期待値を求める．

### 解答
$i$種類のアイテムが集まった状態を考える．未入手である$i+1$種類目のアイテムを入手する確率$p$について，$p=\frac{N-i}{N}$である．

$i$種類のアイテムが集まった状態から起算して，$i+1$種類目のアイテムを入手するまでの試行回数の期待値$E_{i+1}$について，
\\[
    E_{i+1}=1\cdot p+2\cdot(1-p)p+3\cdot(1-p)^2p+...
\\]

右辺を適当に計算（無限等比級数の和となる）すると$\frac{1}{p}$となる．この値を$i=0,1,...,N-1$について求めて合計したものが本問題の答えとなる．
